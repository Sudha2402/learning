<!DOCTYPE html>
<html>

<head>
    <title>ASP try</title>
   
</head>

<body>
<h1>ASP try</h1>
<h2> Always open in php server</h2>

<h2>The XMLHttpRequest Object</h2>
<button type="button" onclick="loadDoc()">Request data</button>
<p id="demo"></p>
<p>The time is @DateTime.Now</p>

<!-- Single statement block -->
@{ var myMessage = "Hello World"; }

<!-- Inline expression or variable -->
<p>The value of myMessage is: @myMessage</p>

<!-- Multi-statement block -->
@{
var greeting = "Welcome to our site!";
var weekDay = DateTime.Now.DayOfWeek;
var greetingMessage = greeting + " Here in Huston it is: " + weekDay;
}

<p>The greeting is: @greetingMessage</p>




</body>






<script>

const xhttp = new XMLHttpRequest();
xhttp.onload = function() {
  const xmlDoc = this.responseXML;
  const x = xmlDoc.getElementsByTagName("ARTIST");
//   const x = xmlDoc.getElementsByTagName("artist");//case sensitive hence no result
  let txt = "";
  for (let i = 0; i < x.length; i++) {
    txt = txt + x[i].childNodes[0].nodeValue + "<br>";
  }
  document.getElementById("demo").innerHTML = txt;
}
xhttp.open("GET", "cd_catalog.xml");
xhttp.send();


/*
// Multiple Callback Functions
loadDoc("url-1", myFunction1);
loadDoc("url-2", myFunction2);
function loadDoc(url, cFunction) {
  const xhttp = new XMLHttpRequest();
  xhttp.onload = function() {cFunction(this);}
  xhttp.open("GET", url);
  xhttp.send();
}
function myFunction1(xhttp) {
  // action goes here
}
function myFunction2(xhttp) {
  // action goes here
}
*/


function loadDoc() {
  const xhttp = new XMLHttpRequest();
  xhttp.onload = function() {
    document.getElementById("demo").innerHTML =
    this.responseText;
  }
  xhttp.open("GET", "demo_get_time.asp");
  xhttp.send("name=Sudha&age=20");
}

/*
    document.write(`<br><div id="demoAJAXPOST">
<button type="button" onclick="loadDocPost()">POST try </button><br>
</div> <br>`);

    function loadDocPost() {
        const xhttp = new XMLHttpRequest();
        xhttp.onload = function () {
            document.getElementById("demoAJAXPOST").innerHTML = this.responseText + "<br>";
        }
        xhttp.open("POST", "demo_post.asp");
        xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        //setRequestHeader(header, value)	Adds HTTP headers to the request
        //header: specifies the header name
        //value: specifies the header value
        // xhttp.send("name=Sudha&email=sudha@23gmail.com&message=Hello");
        // xhttp.send("userName=Sudha");
        xhttp.send("fname=Sudha&lname=Kumari");
       
    }

*/



</script>
</html>